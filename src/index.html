<!DOCTYPE html>
<html lang="nb">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bare</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div id="app">
        <!-- Verkt√∏ylinje (Retro Design) -->
        <header class="toolbar">
            <div class="toolbar-section toolbar-left">
                <button id="btn-back" class="toolbar-btn nav-btn" disabled title="Tilbake (Alt+‚Üê)">
                    ‚óÑ
                </button>
                <button id="btn-forward" class="toolbar-btn nav-btn" disabled title="Fremover (Alt+‚Üí)">
                    ‚ñ∫
                </button>
                <button id="btn-home" class="toolbar-btn" title="Hjem (G)">
                    ‚åÇ
                </button>
                <button id="btn-reload" class="toolbar-btn" title="Last p√• nytt (F5)">
                    ‚Üª
                </button>
                <div class="toolbar-separator"></div>
            </div>
            
            <div class="toolbar-center">
                <div class="url-bar-wrapper">
                    <span class="url-bar-icon">‚Üí</span>
                    <input 
                        type="text" 
                        id="url-bar" 
                        class="url-bar" 
                        placeholder="Skriv inn URL til .md-fil..."
                        spellcheck="false"
                        autocomplete="off"
                    >
                </div>
            </div>
            
            <div class="toolbar-section toolbar-right">
                <div class="toolbar-separator"></div>
                <button id="btn-bookmark" class="toolbar-btn" title="Bokmerke denne siden (Ctrl+D)">
                    ‚òÜ
                </button>
                <button id="btn-bookmarks" class="toolbar-btn" title="Vis bokmerker (Ctrl+B)">
                    ‚ò∞
                </button>
                <button id="btn-open" class="toolbar-btn" title="√Öpne fil (Ctrl+O)">
                    üìÅ
                </button>
                <button id="btn-settings" class="toolbar-btn" title="Innstillinger">
                    ‚öô
                </button>
                <div class="menu-container">
                    <button id="btn-menu" class="toolbar-btn" title="Meny">
                        ‚â°
                    </button>
                    <div id="dropdown-menu" class="dropdown-menu hidden">
                        <div class="menu-section">
                            <span class="menu-label">Visning</span>
                            <div class="menu-zoom-controls">
                                <button id="btn-zoom-out" class="menu-zoom-btn" title="Zoom ut (Ctrl+-)">[‚àí]</button>
                                <span id="menu-zoom-level" class="menu-zoom-level">100%</span>
                                <button id="btn-zoom-in" class="menu-zoom-btn" title="Zoom inn (Ctrl++)">[ + ]</button>
                            </div>
                        </div>
                        <div class="menu-divider"></div>
                        <button id="btn-theme" class="menu-item" title="Bytt tema">
                            <span class="menu-icon">‚óë</span>
                            <span>Bytt tema</span>
                        </button>
                        <div class="menu-divider"></div>
                        <button id="btn-about" class="menu-item" title="Om Bare">
                            <span class="menu-icon">?</span>
                            <span>Om Bare...</span>
                        </button>
                    </div>
                </div>
            </div>
        </header>
        
        <!-- S√∏kefelt -->
        <div id="search-bar" class="search-bar hidden">
            <input 
                type="text" 
                id="search-input" 
                class="search-input" 
                placeholder="S√∏k i siden..."
                spellcheck="false"
            >
            <span id="search-count" class="search-count"></span>
            <button id="btn-search-prev" class="search-btn" title="Forrige treff">‚Üë</button>
            <button id="btn-search-next" class="search-btn" title="Neste treff">‚Üì</button>
            <button id="btn-search-close" class="search-btn" title="Lukk (Esc)">‚úï</button>
        </div>
        
        <!-- Status bar -->
        <div id="status-bar" class="status-bar hidden">
            <span id="status-message"></span>
        </div>
        
        <!-- Bokmerke-panel -->
        <div id="bookmarks-panel" class="side-panel hidden">
            <div class="panel-header">
                <h3>Bokmerker</h3>
                <button id="btn-close-bookmarks" class="panel-close-btn">‚úï</button>
            </div>
            <div id="bookmarks-list" class="panel-content">
                <p class="empty-message">Ingen bokmerker enn√•</p>
            </div>
        </div>
        
        <!-- Innstillinger-panel -->
        <div id="settings-panel" class="side-panel hidden">
            <div class="panel-header">
                <h3>Innstillinger</h3>
                <button id="btn-close-settings" class="panel-close-btn">‚úï</button>
            </div>
            <div class="panel-content">
                <div class="setting-group">
                    <label for="setting-theme">Tema</label>
                    <select id="setting-theme" class="setting-select">
                        <option value="light">Lys</option>
                        <option value="dark">M√∏rk</option>
                        <option value="system">System</option>
                    </select>
                </div>
                <div class="setting-group">
                    <label for="setting-font-family">Skrifttype</label>
                    <select id="setting-font-family" class="setting-select">
                        <option value="system">System</option>
                        <option value="serif">Serif</option>
                        <option value="sans-serif">Sans-serif</option>
                        <option value="mono">Monospace</option>
                    </select>
                </div>
                <div class="setting-group">
                    <label for="setting-font-size">Skriftst√∏rrelse</label>
                    <input type="range" id="setting-font-size" class="setting-range" 
                           min="70" max="150" value="100" step="10">
                    <span id="setting-font-size-value">100%</span>
                </div>
                <div class="setting-group">
                    <label for="setting-content-width">Innholdsbredde</label>
                    <input type="range" id="setting-content-width" class="setting-range" 
                           min="400" max="1200" value="800" step="50">
                    <span id="setting-content-width-value">800px</span>
                </div>
                
                <!-- HTML-konvertering innstillinger -->
                <h4 class="setting-section-title">HTML-konvertering</h4>
                <div class="setting-group">
                    <label for="setting-conversion-mode">Konverteringsmodus</label>
                    <select id="setting-conversion-mode" class="setting-select">
                        <option value="convert-all">Konverter alt</option>
                        <option value="markdown-only">Kun markdown</option>
                        <option value="ask-everytime">Sp√∏r hver gang</option>
                    </select>
                </div>
                <div class="setting-group setting-checkbox-group">
                    <label for="setting-readability">
                        <input type="checkbox" id="setting-readability" checked>
                        Readability-modus (ekstraher hovedinnhold)
                    </label>
                </div>
            </div>
        </div>
        
        <!-- Hovedinnhold -->
        <main id="content" class="content">
            <div class="loading">
                <p>[ LASTER... ]</p>
            </div>
        </main>
        
        <!-- Om-dialog (Retro Window Style) -->
        <div id="about-overlay" class="modal-overlay hidden">
            <div class="modal-dialog about-dialog">
                <div class="modal-header">
                    <h2>Om Bare</h2>
                    <button id="btn-close-about" class="modal-close-btn">√ó</button>
                </div>
                <div class="modal-content">
                    <div class="about-logo">[ B ]</div>
                    <h3>Bare</h3>
                    <p class="about-version" id="about-version">Version 0.1.0</p>
                    <p class="about-description">
                        En eksperimentell markdown-nettleser med fokus p√• personvern, hastighet og rent innhold.
                    </p>
                    <div class="about-features">
                        <p>> Ren markdown-visning</p>
                        <p>> Ingen sporing eller cookies</p>
                        <p>> Rask og lettvektig</p>
                        <p>> Lys og m√∏rk modus</p>
                    </div>
                    <p class="about-copyright">
                        ¬© 2025-2026 Bare Contributors<br>
                        Lisensiert under MIT-lisensen
                    </p>
                </div>
            </div>
        </div>
        
        <!-- F√∏rste-kj√∏ring onboarding modal -->
        <div id="onboarding-overlay" class="modal-overlay hidden">
            <div class="modal-dialog onboarding-dialog">
                <div class="modal-header">
                    <h2>Velkommen til Bare</h2>
                </div>
                <div class="modal-content onboarding-content">
                    <div class="about-logo">[ B ]</div>
                    <p class="onboarding-intro">
                        Bare er en <strong>markdown-nettleser</strong>.
                        Vanlige nettsider bruker HTML, men Bare kan konvertere
                        dem til lesbart markdown-format.
                    </p>
                    
                    <div class="onboarding-question">
                        <p class="onboarding-label">> Hvordan vil du h√•ndtere HTML-sider?</p>
                    </div>
                    
                    <div class="onboarding-options">
                        <label class="onboarding-option">
                            <input type="radio" name="onboarding-conversion" value="convert-all" checked>
                            <div class="onboarding-option-content">
                                <strong>Konverter automatisk</strong>
                                <span>HTML-sider konverteres til markdown automatisk</span>
                            </div>
                        </label>
                        <label class="onboarding-option">
                            <input type="radio" name="onboarding-conversion" value="markdown-only">
                            <div class="onboarding-option-content">
                                <strong>Kun markdown</strong>
                                <span>Vis bare sider som allerede er markdown</span>
                            </div>
                        </label>
                        <label class="onboarding-option">
                            <input type="radio" name="onboarding-conversion" value="ask-everytime">
                            <div class="onboarding-option-content">
                                <strong>Sp√∏r hver gang</strong>
                                <span>Du velger selv for hver side</span>
                            </div>
                        </label>
                    </div>
                    
                    <button id="btn-onboarding-confirm" class="onboarding-confirm-btn">
                        [ Start Bare ]
                    </button>
                    
                    <p class="onboarding-hint">
                        Du kan endre dette senere i innstillinger (‚öô)
                    </p>
                </div>
            </div>
        </div>

        <!-- Gemini Input Dialog -->
        <div id="gemini-input-overlay" class="modal-overlay hidden">
            <div class="modal-dialog gemini-input-dialog">
                <div class="modal-header">
                    <h2>Gemini Input</h2>
                    <button id="btn-close-gemini-input" class="modal-close-btn">√ó</button>
                </div>
                <div class="modal-content">
                    <p id="gemini-input-prompt" class="gemini-input-prompt"></p>
                    <input 
                        type="text" 
                        id="gemini-input-field" 
                        class="gemini-input-field" 
                        placeholder="Skriv inn tekst..."
                        spellcheck="false"
                        autocomplete="off"
                    >
                    <div class="gemini-input-actions">
                        <button id="btn-gemini-input-cancel" class="gemini-input-btn cancel">Avbryt</button>
                        <button id="btn-gemini-input-send" class="gemini-input-btn send">Send</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Footer / Status Bar (Netscape-inspirert) -->
        <footer class="footer">
            <div class="footer-status-section">
                <span id="footer-status" class="footer-status-text">Klar</span>
            </div>
            <div class="footer-progress-section">
                <div id="footer-progress" class="footer-progress">
                    <div id="footer-progress-bar" class="footer-progress-bar"></div>
                </div>
            </div>
            <div class="footer-info-section">
                <span id="footer-info">Bare v0.1</span>
                <span class="footer-sep">|</span>
                <span id="zoom-level" class="zoom-level">100%</span>
            </div>
        </footer>
    </div>
    
    <!-- 
        JavaScript-moduler lastes i avhengighetsrekkef√∏lge:
        1. constants.js - Konstanter (ingen avhengigheter)
        2. state.js - State management (bruker konstanter)
        3. dom.js - DOM-elementer og utilities
        4. ui.js - UI-funksjoner (bruker state, dom, constants)
        5. settings.js - Innstillinger (bruker state, ui)
        6. bookmarks.js - Bokmerker (bruker state, ui)
        7. search.js - S√∏k (bruker state, dom)
        8. navigation.js - Navigasjon (bruker alt over)
        9. events.js - Event handlers (bruker alt over)
        10. main.js - Entry point (orkestrerer alt)
    -->
    <script src="js/constants.js"></script>
    <script src="js/state.js"></script>
    <script src="js/dom.js"></script>
    <script src="js/ui.js"></script>
    <script src="js/settings.js"></script>
    <script src="js/bookmarks.js"></script>
    <script src="js/search.js"></script>
    <script src="js/navigation.js"></script>
    <script src="js/events.js"></script>
    <script src="js/main.js"></script>
</body>
</html>
